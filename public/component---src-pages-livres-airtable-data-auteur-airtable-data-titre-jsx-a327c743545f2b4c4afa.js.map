{"version":3,"sources":["webpack:///./src/pages/livres/{Airtable.data__Auteur}/{Airtable.data__Titre}.jsx","webpack:///./src/images/book-sample.jpg"],"names":["Nuage","px","alignSelf","src","nuage","alt","height","BackLink","useTheme","to","color","alignItems","pr","width","arrowLeft","pt","Buy","data","epuise","noticeRetour","theme","styles","button","prixCAD","prixEuro","p","borderWidth","borderStyle","css","py","borderColor","backgroundColor","Share","BookCol","textTransform","couvertures","ISBN","annee","hauteur","largeur","pages","Livre","airtable","dataOut","cleanBook","title","titre","gcs","gce","auteur","createursSecondaires","genre","collection","presentation","length","raw","autourDuLivre","Icon","Icons","module","exports"],"mappings":"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","file":"component---src-pages-livres-airtable-data-auteur-airtable-data-titre-jsx-a327c743545f2b4c4afa.js","sourcesContent":["import React from 'react';\nimport { Link, graphql } from 'gatsby';\nimport Layout from '../../../components/layout';\nimport * as Icons from '../../../components/icons';\nimport {\n  H1Tilde,\n  H2Icon,\n  H2,\n  H3,\n  Box,\n  Body1,\n  Body2,\n  Flex,\n  Card,\n  QuoteSmall,\n  Grid,\n  Tilde,\n  Image,\n  Arrows,\n  Caption,\n  Subtitle,\n  SubtitleFooter,\n  HSpacerMedium,\n  HSpacerLarge,\n  HSpacerSmall,\n  HSpacerXSmall,\n  ButtonSmall,\n  TextCard,\n} from '../../../components/elements';\nimport { useTheme } from '@emotion/react';\nimport bookSample from '../../../images/book-sample.jpg';\nimport nuage from '../../../icons/nuage.svg';\nimport arrowLeft from '../../../icons/arrow_left.svg';\nimport { cleanBook, MD } from '../../../utils';\n\nconst Nuage = () => {\n  return (\n    <Box px='10px' alignSelf='center'>\n      <img src={nuage} alt='nuage' height='8px' />\n    </Box>\n  );\n};\n\nfunction BackLink() {\n  const theme = useTheme();\n  return (\n    <Link to='/catalogue'>\n      <Flex color='accent' alignItems='baseline'>\n        <Box pr='8px'>\n          <img width='8px' src={arrowLeft} alt='catalogue' />\n        </Box>\n        <ButtonSmall pt='20px'>\n          Retour au catalogue général de la compagnie\n        </ButtonSmall>\n      </Flex>\n    </Link>\n  );\n}\n\nfunction Buy({ data, epuise, noticeRetour }) {\n  const theme = useTheme();\n  const color = epuise ? 'muted' : 'accent';\n  return (\n    <>\n      <Flex color={color} {...theme.styles.button}>\n        {data.prixCAD && data.prixEuro && (\n          <Box p='10px' borderWidth='1px' borderStyle='solid'>\n            {data.prixCAD}&nbsp;$\n            <span css={{ paddingLeft: '10px', paddingRight: '10px' }}>/</span>\n            {data.prixEuro}&nbsp;€\n          </Box>\n        )}\n        <Box\n          px='18px'\n          py='12px'\n          borderWidth='1px'\n          borderStyle='solid'\n          borderColor={color}\n          backgroundColor={color}\n          color='background'\n        >\n          {epuise ? 'Non disponible' : 'Ajouter au panier'}\n        </Box>\n      </Flex>\n      {epuise && noticeRetour && <Body2>{noticeRetour}</Body2>}\n    </>\n  );\n}\n\nfunction Share() {\n  const theme = useTheme();\n  return (\n    <Flex color='accent' {...theme.styles.button}>\n      <Box>Partager </Box>\n    </Flex>\n  );\n}\n\nconst BookCol = ({ data }) => {\n  const theme = useTheme();\n  return (\n    <Box color='accent' {...theme.styles.button} textTransform='uppercase'>\n      <img\n        width='1000px'\n        src={data.couvertures[0]}\n        alt=\"L'amour et autres choses plates\"\n        css={{ paddingBottom: '20px' }}\n      />\n      {data.ISBN && <Box>ISBN: {data.ISBN}</Box>}\n      {data.annee && <Box>{data.annee}</Box>}\n      {data.hauteur && data.largeur && (\n        <Box>\n          {data.hauteur} x {data.largeur} cm\n        </Box>\n      )}\n      {data.pages && <Box>{data.pages} pages</Box>}\n    </Box>\n  );\n};\n\nexport default function Livre({ data: { airtable } }) {\n  const dataOut = cleanBook(airtable);\n\n  return (\n    <Layout title={dataOut.titre}>\n      <HSpacerSmall />\n      <BackLink />\n      <HSpacerSmall />\n      <Grid>\n        <Box gcs='1' gce='4'>\n          <BookCol data={dataOut} />\n        </Box>\n        <Box gcs='5' gce='13'>\n          <H2 color='accent'>{dataOut.titre}</H2>\n          <Box color='accent'>\n            <Tilde />\n          </Box>\n          <H3 color='accent' textTransform='uppercase'>\n            {dataOut.auteur}\n          </H3>\n          {dataOut.createursSecondaires && (\n            <Subtitle>{dataOut.createursSecondaires}</Subtitle>\n          )}\n          <HSpacerXSmall />\n          <Flex color='accent' alignItems='baseline'>\n            {dataOut.genre && <Subtitle>{dataOut.genre}</Subtitle>}\n            {dataOut.genre && dataOut.collection && <Nuage />}\n            {dataOut.collection && <Subtitle>{dataOut.collection}</Subtitle>}\n          </Flex>\n          <HSpacerXSmall />\n          <Body1>\n            {dataOut.presentation.length > 0 && (\n              <MD raw={dataOut.presentation} />\n            )}\n          </Body1>\n          <HSpacerXSmall />\n          <Buy data={dataOut} />\n          <HSpacerXSmall />\n          <Share />\n        </Box>\n      </Grid>\n      <HSpacerLarge />\n      {dataOut.autourDuLivre.length > 0 && (\n        <>\n          <H2Icon Icon={Icons.Ecrire}>Autour du livre</H2Icon>\n          <HSpacerSmall />\n          <Grid>\n            <Box gcs='3' gce='11'>\n              <Flex>\n                {/*arrow left*/}\n                <TextCard>\n                  <Box color='accent'>\n                    <QuoteSmall>\n                      {dataOut.autourDuLivre && (\n                        <MD raw={dataOut.autourDuLivre} />\n                      )}\n                    </QuoteSmall>\n                    {\n                      // <SubtitleFooter>\n                      //   <br />\n                      //   <Box>Anne-Renée Caillée, Liberté.</Box>\n                      // </SubtitleFooter>\n                    }\n                  </Box>\n                </TextCard>\n                {/*arrow left*/}\n              </Flex>\n            </Box>\n          </Grid>\n        </>\n      )}\n      <HSpacerLarge />\n    </Layout>\n  );\n}\n\nexport const query = graphql`\n  query($id: String) {\n    airtable(id: { eq: $id }) {\n      data {\n        Auteur\n        Collection\n        Couverture {\n          url\n        }\n        Critiques__extrait_\n        Genre\n        Hauteur__cm_\n        Largeur__cm_\n        ISBN\n        Pages__nombre_\n        Prix_site_Web__CAD_\n        Prix_site_Web__EU_\n        Publication__date_\n        Titre\n        Pr_sentation\n        Autour_du_livre\n        Cr_ateurs_secondaires\n        _puis_\n      }\n    }\n  }\n`;\n\n//        Pr_sentation\n","module.exports = __webpack_public_path__ + \"static/book-sample-bdac5a0dbc1475fc31c6756180544289.jpg\";"],"sourceRoot":""}