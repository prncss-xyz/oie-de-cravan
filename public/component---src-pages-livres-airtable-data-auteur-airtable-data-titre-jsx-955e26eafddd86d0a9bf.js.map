{"version":3,"sources":["webpack://pie2/./src/pages/livres/{Airtable.data__Auteur}/{Airtable.data__Titre}.jsx","webpack://pie2/./src/images/book-sample.jpg"],"names":["Nuage","px","alignSelf","src","nuage","alt","height","BackLink","useTheme","to","color","alignItems","pr","width","arrowLeft","pt","Buy","data","epuise","noticeRetour","theme","styles","button","prixCAD","prixEuro","p","borderWidth","borderStyle","css","py","borderColor","backgroundColor","Share","BookCol","textTransform","couvertures","ISBN","annee","hauteur","largeur","pages","Livre","airtable","dataOut","cleanBook","title","titre","gcs","gce","H2","H3","auteur","createursSecondaires","genre","collection","presentation","length","MD","raw","autourDuLivre","Icon","Icons"],"mappings":"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","file":"component---src-pages-livres-airtable-data-auteur-airtable-data-titre-jsx-955e26eafddd86d0a9bf.js","sourcesContent":["import React from 'react';\nimport { Link, graphql } from 'gatsby';\nimport Layout from '../../../components/layout';\nimport * as Icons from '../../../components/icons';\nimport {\n  H1Tilde,\n  H2Icon,\n  H2,\n  H3,\n  Box,\n  Body1,\n  Body2,\n  Flex,\n  Card,\n  QuoteSmall,\n  Grid,\n  Tilde,\n  Image,\n  Arrows,\n  Caption,\n  Subtitle,\n  SubtitleFooter,\n  HSpacerMedium,\n  HSpacerLarge,\n  HSpacerSmall,\n  HSpacerXSmall,\n  ButtonSmall,\n  TextCard,\n} from '../../../components/elements';\nimport { useTheme } from '@emotion/react';\nimport bookSample from '../../../images/book-sample.jpg';\nimport nuage from '../../../icons/nuage.svg';\nimport arrowLeft from '../../../icons/arrow_left.svg';\nimport { cleanBook, MD } from '../../../utils';\n\nconst Nuage = () => {\n  return (\n    <Box px='10px' alignSelf='center'>\n      <img src={nuage} alt='nuage' height='8px' />\n    </Box>\n  );\n};\n\nfunction BackLink() {\n  const theme = useTheme();\n  return (\n    <Link to='/catalogue'>\n      <Flex color='accent' alignItems='baseline'>\n        <Box pr='8px'>\n          <img width='8px' src={arrowLeft} alt='catalogue' />\n        </Box>\n        <ButtonSmall pt='20px'>\n          Retour au catalogue général de la compagnie\n        </ButtonSmall>\n      </Flex>\n    </Link>\n  );\n}\n\nfunction Buy({ data, epuise, noticeRetour }) {\n  const theme = useTheme();\n  const color = epuise ? 'muted' : 'accent';\n  return (\n    <>\n      <Flex color={color} {...theme.styles.button}>\n        {data.prixCAD && data.prixEuro && (\n          <Box p='10px' borderWidth='1px' borderStyle='solid'>\n            {data.prixCAD}&nbsp;$\n            <span css={{ paddingLeft: '10px', paddingRight: '10px' }}>/</span>\n            {data.prixEuro}&nbsp;€\n          </Box>\n        )}\n        <Box\n          px='18px'\n          py='12px'\n          borderWidth='1px'\n          borderStyle='solid'\n          borderColor={color}\n          backgroundColor={color}\n          color='background'\n        >\n          {epuise ? 'Non disponible' : 'Ajouter au panier'}\n        </Box>\n      </Flex>\n      {epuise && noticeRetour && <Body2>{noticeRetour}</Body2>}\n    </>\n  );\n}\n\nfunction Share() {\n  const theme = useTheme();\n  return (\n    <Flex color='accent' {...theme.styles.button}>\n      <Box>Partager </Box>\n    </Flex>\n  );\n}\n\nconst BookCol = ({ data }) => {\n  const theme = useTheme();\n  return (\n    <Box color='accent' {...theme.styles.button} textTransform='uppercase'>\n      <img\n        width='1000px'\n        src={data.couvertures[0]}\n        alt=\"L'amour et autres choses plates\"\n        css={{ paddingBottom: '20px' }}\n      />\n      {data.ISBN && <Box>ISBN: {data.ISBN}</Box>}\n      {data.annee && <Box>{data.annee}</Box>}\n      {data.hauteur && data.largeur && (\n        <Box>\n          {data.hauteur} x {data.largeur} cm\n        </Box>\n      )}\n      {data.pages && <Box>{data.pages} pages</Box>}\n    </Box>\n  );\n};\n\nexport default function Livre({ data: { airtable } }) {\n  const dataOut = cleanBook(airtable);\n\n  return (\n    <Layout title={dataOut.titre}>\n      <HSpacerSmall />\n      <BackLink />\n      <HSpacerSmall />\n      <Grid>\n        <Box gcs='1' gce='4'>\n          <BookCol data={dataOut} />\n        </Box>\n        <Box gcs='5' gce='13'>\n          <H2 color='accent'>{dataOut.titre}</H2>\n          <Box color='accent'>\n            <Tilde />\n          </Box>\n          <H3 color='accent' textTransform='uppercase'>\n            {dataOut.auteur}\n          </H3>\n          {dataOut.createursSecondaires && (\n            <Subtitle>{dataOut.createursSecondaires}</Subtitle>\n          )}\n          <HSpacerXSmall />\n          <Flex color='accent' alignItems='baseline'>\n            {dataOut.genre && <Subtitle>{dataOut.genre}</Subtitle>}\n            {dataOut.genre && dataOut.collection && <Nuage />}\n            {dataOut.collection && <Subtitle>{dataOut.collection}</Subtitle>}\n          </Flex>\n          <HSpacerXSmall />\n          <Body1>\n            {dataOut.presentation.length > 0 && (\n              <MD raw={dataOut.presentation} />\n            )}\n          </Body1>\n          <HSpacerXSmall />\n          <Buy data={dataOut} />\n          <HSpacerXSmall />\n          <Share />\n        </Box>\n      </Grid>\n      <HSpacerLarge />\n      {dataOut.autourDuLivre.length > 0 && (\n        <>\n          <H2Icon Icon={Icons.Ecrire}>Autour du livre</H2Icon>\n          <HSpacerSmall />\n          <Grid>\n            <Box gcs='3' gce='11'>\n              <Flex>\n                {/*arrow left*/}\n                <TextCard>\n                  <Box color='accent'>\n                    <QuoteSmall>\n                      {dataOut.autourDuLivre && (\n                        <MD raw={dataOut.autourDuLivre} />\n                      )}\n                    </QuoteSmall>\n                    {\n                      // <SubtitleFooter>\n                      //   <br />\n                      //   <Box>Anne-Renée Caillée, Liberté.</Box>\n                      // </SubtitleFooter>\n                    }\n                  </Box>\n                </TextCard>\n                {/*arrow left*/}\n              </Flex>\n            </Box>\n          </Grid>\n        </>\n      )}\n      <HSpacerLarge />\n    </Layout>\n  );\n}\n\nexport const query = graphql`\n  query($id: String) {\n    airtable(id: { eq: $id }) {\n      data {\n        Auteur\n        Collection\n        Couverture {\n          url\n        }\n        Critiques__extrait_\n        Genre\n        Hauteur__cm_\n        Largeur__cm_\n        ISBN\n        Pages__nombre_\n        Prix_site_Web__CAD_\n        Prix_site_Web__EU_\n        Publication__date_\n        Titre\n        Pr_sentation\n        Autour_du_livre\n        Cr_ateurs_secondaires\n        _puis_\n      }\n    }\n  }\n`;\n\n//        Pr_sentation\n","export default __webpack_public_path__ + \"static/book-sample-cecf719c2109d13865550e46973c1c07.jpg\";"],"sourceRoot":""}